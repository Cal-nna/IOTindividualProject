<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>CalWeb Scene</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='styles.css') }}">
</head>

<body class="{{ scene }}">
    <div>
        <h1>{{ scene | capitalize }} Mode</h1>

        <button onclick="setMode('day')">Day</button>
        <button onclick="setMode('night')">Night</button>
    </div>

    <!-- Inline helper script -->
    <script>
        function setMode(mode) {
            fetch("/api/visual", {
                method: "POST",
                headers: {"Content-Type": "application/json"},
                body: JSON.stringify({ mode })
            });
        }
    </script>

    <!-- PubNub -->
    <script src="https://cdn.pubnub.com/sdk/javascript/pubnub.7.6.2.min.js"></script>
    <script src="{{ url_for('static', filename='js/pubnub.js') }}"></script>
</body>
</html>
